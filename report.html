{% extends "layout.html" %}
{% block title %}Report{% endblock %}
{% block content %}
  <div class="py-3">
    <h3 class="mb-3">Event Report</h3>
    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Date</th>
            <th scope="col">Registrations</th>
            <th scope="col">Capacity</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for r in report %}
          <tr>
            <th scope="row">{{ r.id }}</th>
            <td>{{ r.title }}</td>
            <td>{{ r.date }}</td>
            <td>{{ r.count }}</td>
            <td>{{ r.capacity }}</td>
            <td><a class="btn btn-sm btn-primary" href="{{ url_for('view_registrations', eid=r.id) }}">View Students</a></td>
          </tr>
          {% else %}
          <tr><td colspan="5"><em>No data</em></td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}